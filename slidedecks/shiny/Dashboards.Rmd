---
title: 'Shiny: dashboards in R'
author: "Steph Locke"
date: "Wednesday, February 18, 2015"
runtime: shiny
output:
  ioslides_presentation:
    css: Look.css
---

```{r autodoc, child='Objective.Rmd', eval=TRUE}
```

## 1st | What's Shiny?
- An interactive report framework
- An R package that is available free (as is the server edition)
- Uses "modern web standards" like bootstrap under the hood 

## 2nd | R
>- Approx 55 mins talk + 20 mins Q&A!
>- Ask your questions throughout
>- Who's using R already?
>- I'll be covering off a reasonable amount of code as I go but check out my [R Intro]() for a more thorough overview

## Quick example
```{r, echo = FALSE}
library(shiny)
defaultdisplay<-list(
    width="100%", height="75%"
  )
shinyAppDir(
  system.file("examples/06_tabsets", package="shiny"),
  options=defaultdisplay
)
```

# Shiny structure
## Contents
A shiny application report consists of two functions:

- `shinyServer()`
- `shinyUI()`

One says what to execute and the other states how to present it. Do all data manipulation, chart production in `shinyServer()`

## Files
You typically need two files:  
- server.R containing `shinyServer()`
- ui.R containing `shinyUI()`

This can then be run with `runApp()`

You can do a single file example `app.R` which contains both functions but this is typically better for very short apps.

## Front-end layout
Use these just inside `shinyUI()` to produce a layout

- Fixed `shinyUI(fixedPage( ...))`
- Fluid `shinyUI(fluidPage( ...))`
- Bootstrap `shinyUI(bootstrapPage( ...))`
- Nav Bar `shinyUI(navbarPage( ...))`
- Side Panel `shinyUI(sidebarPage( ...))`

```{r autodoc, child='TypicalInputs.Rmd', eval=TRUE}
```

```{r autodoc, child='TypicalOutputs.Rmd', eval=TRUE}
```

# Reactivity

## Simple reactivity
- Make functions that process inputs only when they change
```{r, eval=FALSE}
a <- reactive({input$a})
a
```
- Use these reactive functions in downstream server items for DRY & to reduce processing effort

## An Example
```{r}
shinyApp(
  ui = fluidPage(textInput("char", "Insert text:") ,
                 textOutput("textA"),textOutput("textB") ),
  server = function(input, output) {
    char<-reactive({rep(input$char,5)})
    output$textA <- renderText(paste(char(),collapse="+"))
    output$textB <- renderText(paste(char(),collapse="-"))
  }
  ,options=defaultdisplay
)
```

# Styling
## shinythemes
- Get a different look and feel with the package `shinythemes`
- Uses a number of bootstrap based themes
- Good-looking quickly, but of course not company branded

## CSS
- Shiny outputs html so you can write CSS that works with it
- Full list of CSS items doesn't exist, use F12 on chrome or check out selectorgadget via `rvest`
- Simple stuff like body, h1 will all work

# Infrastructure
## Ad-hoc shiny
- Rstudio (easiest) or just run directly
- Use `shiny::runApp()`

## Cloud
- [shinyApps.io](https://www.shinyapps.io/)
- Deploy with `shinyApps` package
- Free for light use 
- Extra management features with a range of levels

## Central server
- shiny-server
- Runs on linux
- Free community edition
- Extra management features & LDAP auth in Pro Edition
- Great for sensitive &| db-driven appplications

# Let's put it all together!

# Q & A

# The end!


## Recommended reading
- [Shiny site](http://shiny.rstudio.com/)
- A bit outdated but: [Web Application Development with R Using Shiny](http://www.amazon.co.uk/gp/product/B00G395OOY)
- [Reactivity Overview](http://shiny.rstudio.com/articles/reactivity-overview.html)
- [shiny for teaching maths](https://github.com/hadley/reactive-docs)
- [Show me Shiny!](http://www.showmeshiny.com/)

```{r autodoc, child='../presentationguff/AboutMe.Rmd', eval=TRUE}
```

