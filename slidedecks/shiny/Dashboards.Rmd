---
title: 'Shiny: dashboards in R'
author: "Steph Locke"
date: "Wednesday, February 18, 2015"
runtime: shiny
output:
  ioslides_presentation:
    css: Look.css
---

```{r autodoc, child='Objective.Rmd', eval=TRUE}
```

## 1st | What's Shiny?
- An interactive report framework
- An R package that is available free (as is the server edition)
- Uses "modern web standards" like bootstrap under the hood 

## 2nd | R
>- Approx 55 mins talk + 20 mins Q&A!
>- Ask your questions throughout
>- Who's using R already?
>- I'll be covering off a reasonable amount of code as I go but check out my [R Intro]() for a more thorough overview

## Quick example
```{r, echo = FALSE}
library(shiny)
defaultdisplay<-list(
    width="100%", height="75%"
  )
shinyAppDir(
  system.file("examples/06_tabsets", package="shiny"),
  options=defaultdisplay
)
```

# Shiny structure
## Contents
A shiny application report consists of two functions:

- `shinyServer()`
- `shinyUI()`

One says what to execute and the other states how to present it. Do all data manipulation, chart production in `shinyServer()`

## Files
You typically need two files:
- server.R containing `shinyServer()`
- ui.R containing `shinyUI()`

This can then be run with `runApp()`

You can do a single file example `app.R` which contains both functions but this is typically better for very short apps.

## Front-end layout
Use these just inside `shinyUI()` to produce a layout

- Fixed `shinyUI(fixedPage( ...))`
- Fluid `shinyUI(fluidPage( ...))`
- Bootstrap `shinyUI(bootstrapPage( ...))`
- Nav Bar `shinyUI(navbarPage( ...))`
- Side Panel `shinyUI(sidebarPage( ...))`

# Typical Inputs
## Dates
```{r}
shinyApp(
  ui = fluidPage(dateInput("date", "Pick a date:", format="dd/mm/yy")  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```

## Values | Simple
```{r}
shinyApp(
  ui = fluidPage(numericInput("vals", "Insert a number:", value=15, min=10)  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```

## Values | Sliders
```{r}
shinyApp(
  ui = fluidPage(sliderInput("vals", "Insert a number:", 
                             min=0, max=50, value=15)  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```

## Text | Single line
```{r}
shinyApp(
  ui = fluidPage(textInput("char", "Insert text:")  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```

## Text | Paragraph [TODO]
```{r}
shinyApp(
  ui = fluidPage(textInput("char", "Insert text:")  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```

## Selectors 
```{r}
shinyApp(
  ui = fluidPage(selectInput("multiselect", "Pick favourites:",
                             c("Green","Red","Blue"),
                             multiple=TRUE)  ),
  server = function(input, output) {}
  ,options=defaultdisplay
)
```


# Typical outputs
## Basic tables
## Interactive tables
## Charts

# Styling
## shinythemes
- Get a different look and feel with the package `shinythemes`
- Uses a number of bootstrap based themes
- Good-looking quickly, but of course not company branded

## CSS
- Shiny outputs html so you can write CSS that works with it
- Full list of CSS items doesn't exist, use F12 on chrome
- Simple stuff like body, h1 will all work

# Infrastructure
## Ad-hoc shiny
- Rstudio (easiest) or just run directly
- Use `shiny::runApp`

## Cloud
- [shinyApps.io](https://www.shinyapps.io/)
- Deploy with `shinyApps` package
- Free for light use 
- Extra management features with a range of levels

## Central server
- shiny-server
- Runs on linux
- Free community edition
- Extra management features & LDAP auth in Pro Edition

## Cost Benefit Analysis

## Integration with MSFT
- AD authentication for linux
- 

# Advanced shiny
## shinydashboards
## Reactivity
## File handling

# Q & A

# The end!


## Recommended reading
- [Shiny homepage](http://shiny.rstudio.com/)
- A bit outdated but: [Web Application Development with R Using Shiny](http://www.amazon.co.uk/gp/product/B00G395OOY)
- [Show me Shiny!](http://www.showmeshiny.com/)

```{r autodoc, child='../presentationguff/AboutMe.Rmd', eval=TRUE}
```

